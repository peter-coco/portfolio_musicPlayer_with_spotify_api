(this.webpackJsonpmusicplayer2=this.webpackJsonpmusicplayer2||[]).push([[0],{103:function(n,e,t){"use strict";t.r(e);var a,i=t(0),c=t.n(i),r=t(9),o=t.n(r),s=(t(43),t(2)),d=t(5),l=t(33),p=t(4);!function(n){n[n.CHANGE_MAIN_CONTENTS_MODE_TO_MAIN=0]="CHANGE_MAIN_CONTENTS_MODE_TO_MAIN",n[n.CHANGE_MAIN_CONTENTS_MODE_TO_GENRE=1]="CHANGE_MAIN_CONTENTS_MODE_TO_GENRE",n[n.CHANGE_MAIN_CONTENTS_MODE_TO_SEARCH=2]="CHANGE_MAIN_CONTENTS_MODE_TO_SEARCH",n[n.SET_API_ENTRACE_CODE=3]="SET_API_ENTRACE_CODE",n[n.SET_TRACK_LIST=4]="SET_TRACK_LIST",n[n.SET_SEARCH_RESULT=5]="SET_SEARCH_RESULT",n[n.SET_SEARCH_ENTER_ACTIVATED=6]="SET_SEARCH_ENTER_ACTIVATED",n[n.SET_ACCEES_TOKEN_NOW=7]="SET_ACCEES_TOKEN_NOW",n[n.CHOICE_MUSIC_GENRE=8]="CHOICE_MUSIC_GENRE"}(a||(a={}));var O=a,h=t(32),x={mainContentsModeIdx:0,musicList:[],entraceCode:"code",accessTokenNow:"",selectedMusicGenre:"pop",nameOfTitle:"Recommand",colorOfTitleBar:"#72B1C5",searchResult:"",searchBarOnOff:!1,searchBarEnterOnOff:!1,trackList:[],trackNow:{title:"",artist:"",album:"",albumImg:"",popularity:0,url:""},spotifyApi:new(t.n(h).a)({clientId:"e4ef76d98ff348cfbe2fe41f11d87279"})};var f,u,m,b,j,E,_,T,C,g,N,w,A,S=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case O.CHANGE_MAIN_CONTENTS_MODE_TO_MAIN:return Object(p.a)(Object(p.a)({},n),{},{mainContentsModeIdx:0,nameOfTitle:"Recommand",colorOfTitleBar:"#72B1C5",selectedMusicGenre:"pop"});case O.CHANGE_MAIN_CONTENTS_MODE_TO_GENRE:return Object(p.a)(Object(p.a)({},n),{},{mainContentsModeIdx:1,nameOfTitle:"Genre",colorOfTitleBar:"#7972C5"});case O.CHANGE_MAIN_CONTENTS_MODE_TO_SEARCH:return Object(p.a)(Object(p.a)({},n),{},{mainContentsModeIdx:n.mainContentsModeIdx,searchBarOnOff:e.payload.searchBarOnOff});case O.SET_API_ENTRACE_CODE:return Object(p.a)(Object(p.a)({},n),{},{entraceCode:e.payload.apiEntraceCode});case O.SET_SEARCH_RESULT:return Object(p.a)(Object(p.a)({},n),{},{searchResult:e.payload.searchResult});case O.SET_SEARCH_ENTER_ACTIVATED:return Object(p.a)(Object(p.a)({},n),{},{mainContentsModeIdx:3,searchBarEnterOnOff:!n.searchBarEnterOnOff,nameOfTitle:"search result : ".concat(n.searchResult),colorOfTitleBar:"#D96BC1",searchBarOnOff:!1});case O.SET_TRACK_LIST:return Object(p.a)(Object(p.a)({},n),{},{trackList:e.payload.trackList});case O.SET_ACCEES_TOKEN_NOW:return Object(p.a)(Object(p.a)({},n),{},{accessTokenNow:e.payload.accessTokenNow});case O.CHOICE_MUSIC_GENRE:return Object(p.a)(Object(p.a)({},n),{},{selectedMusicGenre:e.payload.genre,mainContentsModeIdx:0,nameOfTitle:e.payload.nameOfTitle,colorOfTitleBar:e.payload.colorOfTitleBar})}return n},y=Object(l.a)(S),v=t(3),I=t(34),M=t(1),R=v.a.div(f||(f=Object(s.a)(["\n  width: 100%;\n  height: 10vh;\n  min-height: 60px;\n  /* position: absolute; */\n  /* top: 0; */\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),k=v.a.div(u||(u=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 560px;\n  height: 30px;\n  @media (max-width: 750px) {\n    width: 200px;\n  }\n"]))),H=v.a.i(m||(m=Object(s.a)(["\n  font-size: 25px;\n  line-height: 30px;\n  color: #fff;\n  cursor: pointer;\n  transition: all 300ms ease;\n\n  @media (max-width: 750px) {\n    font-size: 20px;\n  }\n  @media (max-width: 350px) {\n    font-size: 15px;\n  }\n\n  &:hover {\n    /* color: red; */\n    transform: scale(1.2) rotate(-30deg);\n  }\n"]))),G=v.a.div(b||(b=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  width: 300px;\n  height: 30px;\n\n  @media (max-width: 750px) {\n    width: 200px;\n  }\n"]))),D=v.a.input(j||(j=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n"]))),B=function(){var n=Object(d.b)();return Object(M.jsxs)(k,{children:[Object(M.jsx)(H,{className:"fas fa-home",onClick:function(){n({type:O.CHANGE_MAIN_CONTENTS_MODE_TO_MAIN})}}),Object(M.jsx)(H,{className:"fas fa-chart-bar",onClick:function(){n({type:O.CHANGE_MAIN_CONTENTS_MODE_TO_GENRE})}}),Object(M.jsx)(H,{className:"fas fa-search",onClick:function(){n({type:O.CHANGE_MAIN_CONTENTS_MODE_TO_SEARCH,payload:{searchBarOnOff:!0}})}})]})},z=function(){var n=Object(d.b)();return Object(M.jsx)(G,{children:Object(M.jsx)(D,{onChange:function(e){n({type:O.SET_SEARCH_RESULT,payload:{searchResult:e.target.value}})},onKeyDown:function(e){"Enter"===e.key&&n({type:O.SET_SEARCH_ENTER_ACTIVATED})}})})},L=function(){var n=Object(d.c)((function(n){return n.searchBarOnOff})),e=Object(d.b)();return n?Object(M.jsx)(R,{children:Object(M.jsx)(I.a,{onOutsideClick:function(){e({type:O.CHANGE_MAIN_CONTENTS_MODE_TO_SEARCH,payload:{searchBarOnOff:!1}})},children:Object(M.jsx)(z,{})})}):Object(M.jsx)(R,{children:Object(M.jsx)(B,{})})},K=t(7),U=v.a.div(E||(E=Object(s.a)(["\n  width: 100%;\n  height: 10vh;\n  min-height: 60px;\n"]))),P=function(){var n=Object(d.c)((function(n){return n.trackNow})),e=Object(d.c)((function(n){return[n.accessTokenNow]})),t=Object(K.a)(e,1)[0],a=Object(i.useState)(!1),c=Object(K.a)(a,2),r=(c[0],c[1]);return Object(i.useEffect)((function(){r(!0),console.log(n.url)}),[n.url]),t?Object(M.jsx)(U,{}):null},F=v.a.div(_||(_=Object(s.a)(["\n  width: 100%;\n  height: 80%;\n  grid-template-columns: 1fr 1fr 1fr;\n  overflow-y: scroll;\n\n  @media (max-width: 750px) {\n    grid-template-columns: 1fr 1fr;\n  }\n"]))),V=v.a.div(T||(T=Object(s.a)(["\n  width: 200px;\n  height: 50px;\n  background-color: #1b1b1b;\n  color: #fff;\n  /* margin-right: 50px; */\n  text-align: center;\n  line-height: 50px;\n  font-size: 16px;\n\n  cursor: pointer;\n  @media (max-width: 750px) {\n    width: 130px;\n    height: 40px;\n    line-height: 40px;\n    font-size: 15px;\n\n    /* margin-right: 30px; */\n  }\n\n  @media (max-width: 350px) {\n    width: 100px;\n    height: 30px;\n    line-height: 30px;\n    font-size: 13px;\n  }\n"]))),W=function(n){var e=n.musicGenre,t=Object(d.b)();return Object(M.jsx)(V,{onClick:function(){t({type:O.CHOICE_MUSIC_GENRE,payload:{genre:e,nameOfTitle:e}})},children:e})},J=function(){var n=Object(d.c)((function(n){return n.mainContentsModeIdx}));return Object(M.jsx)(F,{style:{display:1===n?"grid":"none"},children:["k-pop","pop","j-pop","rock","classical","jazz","dance","edm","acoustic"].map((function(n){return Object(M.jsx)(W,{musicGenre:n},n)}))})},q=t(38),Q=t.n(q);var X,Y,Z,$,nn,en,tn,an=v.a.div(C||(C=Object(s.a)(["\n  width: 100%;\n  height: 80px;\n  display: flex;\n  position: relative;\n  align-items: center;\n  margin-right: 30px;\n  @media (max-width: 750px) {\n    width: 100%;\n    height: 40px;\n    margin-bottom: 20px;\n    margin-right: 0%;\n  }\n  @media (max-width: 350px) {\n    height: 35px;\n    margin-bottom: 15px;\n  }\n"]))),cn=v.a.img(g||(g=Object(s.a)(["\n  width: 50px;\n  height: 50px;\n  margin-right: 20px;\n  @media (max-width: 750px) {\n    width: 40px;\n    height: 40px;\n    margin-right: 20px;\n  }\n  @media (max-width: 350px) {\n    width: 35px;\n    height: 35px;\n    margin-right: 15px;\n  }\n"]))),rn=v.a.div(N||(N=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),on=v.a.div(w||(w=Object(s.a)(["\n  color: #fff;\n  font-size: 18px;\n  /* width: 300px; */\n\n  width: 200px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n\n  @media (max-width: 750px) {\n    font-size: 15px;\n    width: 220px;\n  }\n\n  @media (max-width: 350px) {\n    font-size: 13px;\n    width: 150px;\n  }\n"]))),sn=v.a.div(A||(A=Object(s.a)(["\n  color: #cacaca;\n  font-size: 18px;\n\n  width: 200px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  /* width: 100%; */\n  @media (max-width: 750px) {\n    font-size: 15px;\n    width: 220px;\n  }\n\n  @media (max-width: 350px) {\n    font-size: 13px;\n    width: 150px;\n  }\n"]))),dn=function(n){var e=n.track;return Object(M.jsxs)(an,{children:[Object(M.jsx)(cn,{src:e.albumImg}),Object(M.jsxs)(rn,{children:[Object(M.jsx)(on,{children:e.title}),Object(M.jsxs)(sn,{children:[e.artist," / ",e.album]})]})]})},ln=v.a.div(X||(X=Object(s.a)(["\n  width: 100%;\n  height: 80%;\n\n  grid-template-columns: repeat(auto-fill, minmax(30%, auto));\n  /* grid-template-rows: repeat(auto-fill, minmax(20%, auto)); */\n  /* grid-template-rows: 1fr; */\n  overflow-y: scroll;\n\n  @media (max-width: 1400px) {\n    grid-template-columns: repeat(auto-fill, minmax(50%, auto));\n  }\n\n  @media (max-width: 750px) {\n    grid-template-columns: 1fr;\n  }\n"]))),pn=function(){var n=Object(d.b)(),e=Object(d.c)((function(n){return[n.entraceCode,n.selectedMusicGenre,n.searchResult,n.searchBarEnterOnOff,n.trackList,n.mainContentsModeIdx,n.spotifyApi]})),t=Object(K.a)(e,7),a=t[0],c=t[1],r=t[2],o=t[3],s=t[4],l=t[5],p=t[6],h=function(n){var e=Object(i.useState)(""),t=Object(K.a)(e,2),a=t[0],c=t[1],r=Object(i.useState)(0),o=Object(K.a)(r,2),s=(o[0],o[1]),l=Object(d.b)();return Object(i.useEffect)((function(){Q.a.post("https://musicdata.link/login").then((function(n){c(n.data.accessToken),s(n.data.expiresIn)})).catch((function(){l({type:O.SET_API_ENTRACE_CODE,payload:{apiEntraceCode:""}}),window.location.href="/"}))}),[n]),a}(a);return Object(i.useEffect)((function(){h&&(p.setAccessToken(h),n({type:O.SET_ACCEES_TOKEN_NOW,payload:{accessTokenNow:h}}))}),[h]),Object(i.useEffect)((function(){r&&3===l&&p.searchTracks(r).then((function(e){var t,a=null===(t=e.body.tracks)||void 0===t?void 0:t.items.map((function(n){return{title:n.name,artist:n.artists[0].name,album:n.album.name,albumImg:n.album.images[0].url,popularity:n.popularity,url:n.uri}}));n({type:O.SET_TRACK_LIST,payload:{trackList:a||[]}})}))}),[o]),Object(i.useEffect)((function(){h&&0===l&&p.getRecommendations({seed_genres:["".concat(c)]}).then((function(e){var t=e.body.tracks.map((function(n){return{title:n.name,artist:n.artists[0].name,album:n.album.name,albumImg:n.album.images[0].url,popularity:n.popularity,url:n.uri}}));n({type:O.SET_TRACK_LIST,payload:{trackList:t||[]}})}))}),[c,h,l]),Object(M.jsx)(ln,{style:{display:1!==l?"grid":"none"},children:s.sort((function(n,e){return e.popularity-n.popularity})).map((function(n){return Object(M.jsx)(dn,{track:n},n.title+n.artist+n.album+n.url)}))})},On=v.a.div(Y||(Y=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  height: 60px;\n  margin-bottom: 10px;\n  @media (max-width: 750px) {\n    width: 280px;\n    height: 40px;\n    margin-bottom: 35px;\n  }\n\n  @media (max-width: 350px) {\n    width: 250px;\n\n    margin-bottom: 20px;\n  }\n"]))),hn=v.a.div(Z||(Z=Object(s.a)(["\n  color: #fff;\n  font-size: 25px;\n  @media (max-width: 750px) {\n    font-size: 20px;\n  }\n\n  @media (max-width: 350px) {\n    font-size: 18px;\n  }\n"]))),xn=v.a.div($||($=Object(s.a)(["\n  width: 100%;\n  height: 4px;\n\n  @media (max-width: 750px) {\n    height: 3px;\n    width: 90%;\n  }\n\n  @media (max-width: 350px) {\n    width: 80%;\n    height: 2px;\n  }\n"]))),fn=function(n){var e=n.title,t=n.barColor;return Object(M.jsxs)(On,{children:[Object(M.jsx)(hn,{children:e}),Object(M.jsx)(xn,{style:{backgroundColor:"".concat(t)}})]})},un=v.a.div(nn||(nn=Object(s.a)(["\n  width: 100%;\n  height: 80vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 20px;\n  box-sizing: border-box;\n"]))),mn=v.a.div(en||(en=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 90%;\n  height: 80%;\n"]))),bn=function(){var n=Object(d.c)((function(n){return[n.nameOfTitle,n.colorOfTitleBar]})),e=Object(K.a)(n,2),t=e[0],a=e[1];return Object(M.jsx)(un,{children:Object(M.jsxs)(mn,{children:[Object(M.jsx)(fn,{title:t,barColor:a}),Object(M.jsx)(J,{}),Object(M.jsx)(pn,{})]})})},jn=v.a.div(tn||(tn=Object(s.a)(["\n  width: 100vw;\n  height: 100vh;\n  /* position: fixed; // \uc74c... \uc774\uc804\uc5d0 \uc5b4\ub5bb\uac8c \ud588\uc9c0?? */\n  background: linear-gradient(\n    90deg,\n    #38adae -1.77%,\n    #cd295a 103.5%,\n    rgba(254, 144, 175, 0) 103.51%\n  );\n"])));var En=function(){return Object(M.jsx)(d.a,{store:y,children:Object(M.jsxs)(jn,{children:[Object(M.jsx)(L,{}),Object(M.jsx)(bn,{}),Object(M.jsx)(P,{})]})})},_n=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,104)).then((function(e){var t=e.getCLS,a=e.getFID,i=e.getFCP,c=e.getLCP,r=e.getTTFB;t(n),a(n),i(n),c(n),r(n)}))};o.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(En,{})}),document.getElementById("root")),_n()},43:function(n,e,t){},67:function(n,e){}},[[103,1,2]]]);
//# sourceMappingURL=main.357bf306.chunk.js.map